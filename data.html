<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Call Data</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css"
    />
    <link rel="stylesheet" href="assets/main.css" />
    <script
      type="text/javascript"
      src="https://code.jquery.com/jquery-3.5.1.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"
    ></script>
  </head>
  <body>
    <section class="hero is-primary is-bold">
      <div class="hero-body">
        <h1 class="title">Call Data</h1>
        <a class="active" href="index.html">Call form</a>
        <a href="data.html">Call Data</a>
      </div>
    </section>
    <table id="example" class="display" style="width: 100%">
      <thead>
        <tr>
          <th>Date</th>
          <th>Time In</th>
          <th>Time Out</th>
          <th>Caller Number</th>
          <th>Caller Name</th>
          <th>Department</th>
          <th>Call Concern</th>
          <th>Employee Taking Call</th>
          <!-- Add more columns as needed based on your JSON structure-->
        </tr>
      </thead>
    </table>

    <script>
      new DataTable("#example", {
        ajax: "https://script.google.com/macros/s/AKfycbxatLQIlo6Zv94sJst6afVM3HwmTKD4K0tVBC1J2ZXJuHPNVxvHDu7Nw8U2R3AqSS5k/exec",
        columns: [
          { data: "Date" },
          { data: "Time In" },
          { data: "Time Out" },
          { data: "Caller Number" },
          { data: "Caller Name" },
          { data: "Department" },
          { data: "Call Concern" },
          { data: "Employee Taking Call" },
        ],
        order: [
          [0, "desc"],
          [1, "desc"],
        ], // Orders by 'Date' and 'Time In' in descending order (latest first)
        pageLength: 10, // Sets the number of rows to display per page
        lengthMenu: [10, 25, 50, 100], // Allows users to choose how many rows to display per page
        responsive: true, // Makes the table responsive for smaller screens
      });
    </script>

    <script type="text/javascript">
      //Auto refresh every 1 second

      setTimeout(function () {
        location.reload();
      }, 50000);
    </script>
  </body>
</html>
